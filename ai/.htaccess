DirectoryIndex index.html

RewriteEngine On

# 设置重写基准目录
RewriteBase /ai/

# 确保直接访问存在的文件和目录
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 移除URL末尾的斜杠（不处理实际存在的目录）
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/$ $1 [L,R=301]

# 如果请求的文件不存在，尝试添加.html后缀
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L]

# 从URL中移除.html扩展名（仅对直接请求处理）
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/(.+?)\.html[\s?] [NC]
RewriteRule ^ %1 [R=301,L] 